{"ast":null,"code":"var _jsxFileName = \"Z:\\\\movie-buff\\\\frontend\\\\src\\\\components\\\\MovieList2.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { fetchAllMovies } from '../services/api';\nimport { Card } from './Card';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MovieList2 = () => {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const fetchIniMovies = async pageNumber => {\n    const movieData = await fetchAllMovies(pageNumber, 10);\n    setMovies(movies => [...movies, movieData]);\n  };\n  useEffect(() => {\n    fetchIniMovies(page);\n  }, [page]);\n  const handleScroll = e => {\n    const bottom = e.target.scrollHeight - e.target.scrollTop === e.target.clientHeight;\n    if (bottom) {\n      console.log('reached bottom');\n      setPage(page => page + 1);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onScroll: handleScroll,\n    children: movies.map(movie => /*#__PURE__*/_jsxDEV(Card, {\n      ...movies\n    }, movie.movie_id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\n_s(MovieList2, \"RJfgfaDMBCj2ygCE2JGhMDwoMvE=\");\n_c = MovieList2;\nvar _c;\n$RefreshReg$(_c, \"MovieList2\");","map":{"version":3,"names":["React","useEffect","useState","fetchAllMovies","Card","jsxDEV","_jsxDEV","MovieList2","_s","movies","setMovies","page","setPage","fetchIniMovies","pageNumber","movieData","handleScroll","e","bottom","target","scrollHeight","scrollTop","clientHeight","console","log","onScroll","children","map","movie","movie_id","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["Z:/movie-buff/frontend/src/components/MovieList2.jsx"],"sourcesContent":["import React,{ useEffect, useState} from 'react'\r\nimport { fetchAllMovies } from '../services/api';\r\nimport { Card } from './Card';\r\n\r\nexport const MovieList2 = () => {\r\n  const [movies, setMovies] = useState([]); \r\n  const [page, setPage] = useState(1);\r\n\r\n  const fetchIniMovies = async (pageNumber) => {\r\n    const movieData = await fetchAllMovies(pageNumber,10);\r\n    setMovies(movies => [...movies,movieData]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchIniMovies(page);\r\n  },[page])\r\n\r\n  const handleScroll = (e) => {\r\n    const bottom = e.target.scrollHeight - e.target.scrollTop === e.target.clientHeight;\r\n    if (bottom){\r\n      console.log('reached bottom')\r\n      setPage((page) => page+1);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div onScroll={handleScroll}>\r\n      {\r\n        movies.map((movie) => \r\n          <Card key={movie.movie_id} {...movies}></Card>\r\n        )\r\n      }\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,SAASC,cAAc,QAAQ,iBAAiB;AAChD,SAASC,IAAI,QAAQ,QAAQ;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9B,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACS,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC;EAEnC,MAAMW,cAAc,GAAG,MAAOC,UAAU,IAAK;IAC3C,MAAMC,SAAS,GAAG,MAAMZ,cAAc,CAACW,UAAU,EAAC,EAAE,CAAC;IACrDJ,SAAS,CAACD,MAAM,IAAI,CAAC,GAAGA,MAAM,EAACM,SAAS,CAAC,CAAC;EAC5C,CAAC;EAEDd,SAAS,CAAC,MAAM;IACdY,cAAc,CAACF,IAAI,CAAC;EACtB,CAAC,EAAC,CAACA,IAAI,CAAC,CAAC;EAET,MAAMK,YAAY,GAAIC,CAAC,IAAK;IAC1B,MAAMC,MAAM,GAAGD,CAAC,CAACE,MAAM,CAACC,YAAY,GAAGH,CAAC,CAACE,MAAM,CAACE,SAAS,KAAKJ,CAAC,CAACE,MAAM,CAACG,YAAY;IACnF,IAAIJ,MAAM,EAAC;MACTK,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;MAC7BZ,OAAO,CAAED,IAAI,IAAKA,IAAI,GAAC,CAAC,CAAC;IAC3B;EACF,CAAC;EAED,oBACEL,OAAA;IAAKmB,QAAQ,EAAET,YAAa;IAAAU,QAAA,EAExBjB,MAAM,CAACkB,GAAG,CAAEC,KAAK,iBACftB,OAAA,CAACF,IAAI;MAAA,GAA0BK;IAAM,GAA1BmB,KAAK,CAACC,QAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAoB,CAC/C;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEA,CAAC;AAEV,CAAC;AAAAzB,EAAA,CA9BYD,UAAU;AAAA2B,EAAA,GAAV3B,UAAU;AAAA,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}